<header>
  <div *ngIf="shop_bool">
    <app-navbar-j></app-navbar-j>
  </div>
  <div *ngIf="!shop_bool">
    <app-navbar-b></app-navbar-b>
  </div>
</header>
<div id="main" class="main">
  <div class="container-fluid">
    <div class="col-lg-12 catalogue">
      <div class="container">
        <h1>{{DepartmentView}}</h1>
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="Home/BJem"><i class="fas fa-home">Inicio</i></a></li>
            <li (click)="backClicked()" class="breadcrumb-item" aria-current="page"><a>{{genderView}}</a></li>
            <li class="breadcrumb-item" aria-current="page">{{DepartmentView}}</li>
          </ol>
        </nav>
      </div>
    </div>
    <div class="container">
        <div id="myModal" class="modal">
            <span class="close" data-dismiss="modal">&times;</span>
            <a [href]="fileUrl" download="Prenda_{{randomChar}}.jpg"><i class="fas fa-cloud-download-alt"></i></a>
            <img class="modal-content" [src]="fileUrl" id="img01">
        </div>
		<div class="row">
				<div class="col-lg-3 order-2 order-lg-1">
          <div class="filter-widget mb-0">
            <h2 class="fw-title">Filtros</h2>
            <input (click)="cleanFilter()" type="button" style="background-color:rgb(194, 89, 255); color: rgb(253, 253, 253); font-weight: bold;"
            value="Limpiar filtros" class="btn btn--pill">
            <!--<div class="filter-widget mb-0">
              <h2 class="fw-title">TALLA</h2>
              <div class="fw-size-choose">
                <div class="sc-item">
                  <input (click)="filterSizeProduct('xs')" type="radio" name="sc" id="xs-size">
                  <label for="xs-size">XS</label>
                </div>
                <div class="sc-item">
                  <input (click)="filterSizeProduct('s')" type="radio" name="sc" id="s-size">
                  <label for="s-size">S</label>
                </div>
                <div class="sc-item">
                  <input (click)="filterSizeProduct('m')" type="radio" name="sc" id="m-size"  checked="">
                  <label for="m-size">M</label>
                </div>
                <div class="sc-item">
                  <input (click)="filterSizeProduct('l')" type="radio" name="sc" id="l-size">
                  <label for="l-size">L</label>
                </div>
                <div class="sc-item">
                  <input (click)="filterSizeProduct('xl')" type="radio" name="sc" id="xl-size">
                  <label for="xl-size">XL</label>
                </div>
                <div class="sc-item">
                  <input (click)="filterSizeProduct('xxl')" type="radio" name="sc" id="xxl-size">
                  <label for="xxl-size">XXL</label>
                </div>
              </div>
            </div>

            <div class="filter-widget mb-0">
              <h2 class="fw-title">MARCAS</h2>
              <select (change)="toggleTag($event.target.value)" id="mounth">
                <option value="hide">-- Marcas --</option>
                <option *ngFor="let tag of tags"  [value]="tag.id">
                  {{tag.name}}
                </option>
              </select>
            </div>
						<div class="price-range-wrap">
              <h4>Precio</h4>
              <div class="price-range ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content" data-min="10" data-max="270">
                <div class="ui-slider-range ui-corner-all ui-widget-header" style="left: 0%; width: 100%;"></div>
								<span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default" style="left: 0%;">
								</span>
								<span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default" style="left: 100%;">
								</span>
              </div>
              <div class="two_sidebar">
								<fieldset class="filter-price">
								    <div class="price-field">
                        <input (change)="filterByPriceMin($event)" type="range"  min="2500" max="50000" value="2500" id="lower">
								      	<input  (change)="filterByPriceMax($event)" type="range"  min="2500" max="50000" value="45000" id="upper">
								    </div>
								     <div class="price-wrap">
								      	<span class="price-title">Precio : </span>
								      <div class="price-wrap-1">
								      		<input id="one">
								      		<label for="one">₡ {{minPrice | number: '3.'}}</label>
								      </div>
								      <div class="price-wrap_line">-</div>
								      <div class="price-wrap-2">
								        	<input id="two">
								        	<label for="two">₡ {{maxPrice | number: '3.'}}</label>
								      </div>
								    </div>
                </fieldset>
                <input (click)="sendFilter()" type="button" style="background-color:rgb(61, 226, 255); color: rgb(253, 253, 253); font-weight: bold;"
                value="Filtrar" class="btn btn--pill">
							</div>
            </div>-->
					</div>
					<div class="filter-widget">
						<h2 class="fw-title">Prendas</h2>
						<ul class="category-menu">
							<li class="active"><a>Ropa de {{genderView}}</a>
								<ul class="sub-menu" *ngFor="let departs of department">
									<li><a (click)="toggleDtp(departs.id)">{{departs.name}}</a></li>
								</ul>
							</li>
						</ul>
          </div>
          <div class="dptForMobile" style="margin-top: 5%; padding-left: 12%; margin-bottom: 2%;">
            <select (change)="toggleDtp($event.target.value)" id="mounth">
              <option value="hide">-- Departamentos --</option>
              <option *ngFor="let departs of department"  [value]="departs.id">
                {{departs.name}}
              </option>
            </select>
          </div>
          <div class="filter-mobile" style="margin-top: 5%; padding-left: 12%;">
            <input type="button"
            style="background-color:rgb(255, 89, 227); margin-top: 2%; margin-right: 2%; color: rgb(253, 253, 253); font-weight: bold;"
            value="filtros" data-toggle="modal" data-target="#filters" class="btn btn--pill">
            <input (click)="cleanFilter()" type="button"
            style="background-color:rgb(194, 89, 255); margin-top: 2%; color: rgb(253, 253, 253); font-weight: bold;"
            value="Limpiar filtros" class="btn btn--pill">
          </div>
				</div>
			<div class="col-xl-9 col-lg-8 col-md-7 productContainer">
				<!-- Start Filter Bar -->
				<div class="filter-bar d-flex flex-wrap align-items-center">
					<!--<a href="#" class="grid-btn active"><i class="fa fa-th" aria-hidden="true"></i></a>
					<a href="#" class="list-btn"><i class="fa fa-th-list" aria-hidden="true"></i></a>
					<div class="pagination">
						<a href="#" class="prev-arrow"><i class="fas fa-arrow-left arrow" aria-hidden="true"></i></a>
						<a href="#" class="active">1</a>
              			<a href="#">2</a>
						<a href="#">3</a>
              			<a href="#" class="dot-dot"><i class="fa fa-ellipsis-h" aria-hidden="true"></i></a>
              			<a href="#">6</a>
						<a href="#" class="next-arrow"><i class="fas fa-arrow-right arrow" aria-hidden="true"></i></a>
					</div>-->
				</div>
        <!-- End Filter Bar -->
        <div class="filter-widget mb-0" style="margin-top: 4%;">
          <div class="row">
            <div class="col-md-4">
              <select (change)="toggleTag($event.target.value)" id="mounth">
                <option value="hide">-- Marcas --</option>
                <option *ngFor="let tag of tags"  [value]="tag.id">
                  {{tag.name}}
                </option>
              </select>
            </div>
            <div class="col-md-4">
              <div class="filter-widget mb-0">
                <div class="fw-size-choose">
                  <div class="sc-item">
                    <input (click)="filterSizeProduct('xs')" type="radio" name="sc" id="xs-size">
                    <label for="xs-size">XS</label>
                  </div>
                  <div class="sc-item">
                    <input (click)="filterSizeProduct('s')" type="radio" name="sc" id="s-size">
                    <label for="s-size">S</label>
                  </div>
                  <div class="sc-item">
                    <input (click)="filterSizeProduct('m')" type="radio" name="sc" id="m-size"  checked="">
                    <label for="m-size">M</label>
                  </div>
                  <div class="sc-item">
                    <input (click)="filterSizeProduct('l')" type="radio" name="sc" id="l-size">
                    <label for="l-size">L</label>
                  </div>
                  <div class="sc-item">
                    <input (click)="filterSizeProduct('xl')" type="radio" name="sc" id="xl-size">
                    <label for="xl-size">XL</label>
                  </div>
                  <div class="sc-item">
                    <input (click)="filterSizeProduct('xxl')" type="radio" name="sc" id="xxl-size">
                    <label for="xxl-size">XXL</label>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-3">
              <div class="price-range-wrap">
                <div class="price-range ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content" data-min="10" data-max="270">
                  <div class="ui-slider-range ui-corner-all ui-widget-header" style="left: 0%; width: 100%;"></div>
                  <span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default" style="left: 0%;">
                  </span>
                  <span tabindex="0" class="ui-slider-handle ui-corner-all ui-state-default" style="left: 100%;">
                  </span>
                </div>
                <div class="two_sidebar">
                  <fieldset class="filter-price">
                      <div class="price-field">
                          <input (change)="filterByPriceMin($event)" type="range"  min="2500" max="50000" value="2500" id="lower">
                          <input  (change)="filterByPriceMax($event)" type="range"  min="2500" max="50000" value="45000" id="upper">
                      </div>
                       <div class="price-wrap">
                          <span class="price-title">Precio : </span>
                        <div class="price-wrap-1">
                            <input id="one">
                            <label for="one">₡ {{minPrice | number: '3.'}}</label>
                        </div>
                        <div class="price-wrap_line">-</div>
                        <div class="price-wrap-2">
                            <input id="two">
                            <label for="two">₡ {{maxPrice | number: '3.'}}</label>
                        </div>
                      </div>
                  </fieldset>
                </div>
              </div>
            </div>
            <div class="col-md-1">
              <input (click)="sendFilter()" type="button" style="background-color:rgb(61, 226, 255); color: rgb(253, 253, 253); font-weight: bold;"
              value="Filtrar" class="btn btn--pill">
            </div>
          </div>
        </div>
				<section class="pb-40 category-list">
          <pagination-controls class="my-pagination" (pageChange)="p = $event"></pagination-controls>
          <input *ngIf="btnNextDisabled" (click)="nextPaginate()" type="button" value="Siguiente pagina"
          style="background-color:rgb(164, 69, 253);
           margin-bottom: 3%; color: rgb(253, 253, 253); font-weight: bold;"
          class="btn btn--pill nextPage">
          <input *ngIf="!btnNextDisabled" disabled (click)="nextPaginate()" type="button" value="Siguiente pagina"
          style="background-color:rgb(164, 69, 253);
           margin-bottom: 3%; color: rgb(253, 253, 253); font-weight: bold;"
          class="btn btn--pill nextPage">
					<div class="row">
						<div *ngFor="let product of products | paginate: { itemsPerPage: 12, currentPage: p }" class="col-lg-4 col-md-12 col-xs-6 single-product">
							<div class="content">
								<div class="content-overlay"></div>
								<img class="content-image img-fluid d-block mx-auto"
								[src]="product.photo" alt="">
								<div class="content-details fadeIn-bottom">
									<div class="bottom d-flex align-items-center justify-content-center">
										<a href="#"><i class="far fa-heart"></i></a>
                    <a (click)="gotoDetail(product.id)"><i class="far fa-eye"></i></a>
										<a (click)="downloadImg(product.photo)" href="" data-toggle="modal" data-target="#myModal"><i class="fas fa-expand"></i></a>
									</div>
								</div>
							</div>
							<div class="price" style="text-align: justify;">
								<h5>{{product.name}}</h5>
								<h3>₡ {{product.pricePublic | number: '3.'}}</h3>
							</div>
						</div>
					</div>
				</section>
			</div>
		</div>
	</div>
  </div>
  <app-whatsapp></app-whatsapp>
</div>
<div class="modal fadeInDown" id="filters" tabindex="-1" role="dialog" aria-labelledby="modalLabel"
aria-hidden="true">
  <div class="modal-content wrapper" id="formContent" role="document">
    <div class="modal-header first">
      <i class="fa fa-times close" data-dismiss="modal"></i>
      <h2 id="modalLabel">Filtros</h2>
    </div>
    <div class="modal-body fadeIn second">
      <select (change)="filterSizeProduct($event.target.value)" name="" id="">
        <option value="hide">-- Tallas --</option>
        <option value="xs">XS</option>
        <option value="s">S</option>
        <option value="m">M</option>
        <option value="l">L</option>
        <option value="xl">XL</option>
        <option value="xxl">XXL</option>
      </select>
      <div class="price-mobile" style="margin-top: 5%;">
        <div>
          <h4>Precio</h4>
          <div class="two_sidebar">
            <fieldset class="filter-price">
                <div class="price-field">
                    <input (change)="filterByPriceMin($event)" type="range"  min="2500" max="50000" value="2500" id="lower">
                    <input  (change)="filterByPriceMax($event)" type="range"  min="2500" max="50000" value="45000" id="upper">
                </div>
                 <div class="price-wrap">
                    <span class="price-title">Precio : </span>
                  <div class="price-wrap-1">
                      <input id="one">
                      <label for="one">₡ {{minPrice | number: '3.'}}</label>
                  </div>
                  <div class="price-wrap_line">-</div>
                  <div class="price-wrap-2">
                      <input id="two">
                      <label for="two">₡ {{maxPrice | number: '3.'}}</label>
                  </div>
                </div>
            </fieldset>
            <input (click)="sendFilter()" type="button" style="background-color:rgb(61, 226, 255); color: rgb(253, 253, 253); font-weight: bold;"
            value="Filtrar" data-dismiss="modal" class="btn btn--pill">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div *ngIf="loading" class="loading">Loading&#8230;</div>
<footer>
  <app-footer></app-footer>
</footer>
